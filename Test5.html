<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hexagonal Game Board</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #333;
            margin: 0;
            flex-direction: column;
            font-family: sans-serif;
            color: #eee;
        }
        #game-board {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .hex-row {
            display: flex;
            justify-content: center;
        }
        .hexagon {
            width: 80px;
            height: 92px; /* Height for flat-top hex */
            position: relative;
            background: #555;
            margin: 5px;
            margin-top: -24px; /* Correct margin for overlap */
            clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 10px;
            text-align: center;
            box-sizing: border-box;
            border: 2px solid #444;
            transition: transform 0.2s ease-in-out;
            cursor: pointer;
        }
        .hexagon:hover {
            transform: scale(1.1);
        }
        /* The first row doesn't need the negative margin on its first tile */
        .hex-row:first-child .hexagon {
            margin-top: 5px;
        }
        .black-rose {
            background-color: #000;
            border-color: #f00;
            color: #f00;
        }
        .red { background-color: #a00; }
        .green { background-color: #0a0; }
        .yellow { background-color: #aa0; }
        .blue { background-color: #00a; }
        .purple { background-color: #a0a; }
        .gray { background-color: #777; }
        .button-container {
            margin-top: 30px;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            background-color: #555;
            color: #eee;
            border: 1px solid #777;
            border-radius: 5px;
        }
        button:hover {
            background-color: #777;
        }
    </style>
</head>
<body>

    <h1>Hexagonal Game Board</h1>
    <div id="game-board"></div>
    <div class="button-container">
        <button id="recreate-button">Recreate Lodge</button>
    </div>

    <script>
        // Fisher-Yates shuffle algorithm
        function shuffle(array) {
            let currentIndex = array.length, randomIndex;
            while (currentIndex != 0) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;
                [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
            }
            return array;
        }

        function createBoard() {
            const gameBoard = document.getElementById('game-board');
            gameBoard.innerHTML = '';

            const colors = ['red', 'red', 'red', 'green', 'green', 'green', 'yellow', 'yellow', 'yellow', 'blue', 'blue', 'blue', 'purple', 'purple', 'purple', 'gray', 'gray', 'gray'];
            shuffle(colors);

            // A 19-tile hexagonal grid has rows of 3, 4, 5, 4, and 3 tiles.
            const hexRows = [3, 4, 5, 4, 3];
            let colorIndex = 0;

            hexRows.forEach((numTiles, rowIndex) => {
                const hexRow = document.createElement('div');
                hexRow.classList.add('hex-row');
                gameBoard.appendChild(hexRow);

                for (let i = 0; i < numTiles; i++) {
                    const hexagon = document.createElement('div');
                    hexagon.classList.add('hexagon');

                    let roomName = '';
                    let roomColor = '';

                    // The center tile is in the third row (index 2) and the middle position (index 2)
                    if (rowIndex === 2 && i === 2) {
                        hexagon.classList.add('black-rose');
                        roomName = 'Black Rose Room';
                    } else {
                        roomColor = colors[colorIndex];
                        hexagon.classList.add(roomColor);
                        roomName = `Room - ${roomColor}`;
                        colorIndex++;
                    }
                    hexagon.textContent = roomName;
                    hexRow.appendChild(hexagon);
                }
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            createBoard();
            document.getElementById('recreate-button').addEventListener('click', createBoard);
        });
    </script>

</body>
</html>
